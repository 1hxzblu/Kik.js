<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kik.js Library Test</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f5f7fa;
            color: #333;
        }
        .test-section {
            margin-bottom: 30px;
            padding: 20px;
            border: 1px solid #e1e4e8;
            border-radius: 8px;
            background-color: white;
            box-shadow: 0 2px 4px rgba(0,0,0,0.05);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            margin-bottom: 30px;
        }
        h2 {
            color: #3498db;
            border-bottom: 2px solid #3498db;
            padding-bottom: 10px;
            margin-top: 0;
        }
        table, td {
            border: 1px solid #ddd;
            border-collapse: collapse;
            padding: 10px;
        }
        table {
            width: 100%;
            margin-bottom: 15px;
        }
        button {
            padding: 10px 15px;
            margin: 5px;
            background: #3498db;
            color: white;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            transition: background 0.3s;
        }
        button:hover {
            background: #2980b9;
        }
        ul {
            list-style-type: disc;
            padding-left: 20px;
        }
        .animation-demo {
            width: 120px;
            height: 120px;
            background: linear-gradient(135deg, #3498db, #2980b9);
            margin: 15px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            border-radius: 8px;
        }
        .kik-modal {
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0,0,0,0.5);
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .kik-modal-content {
            background-color: white;
            padding: 20px;
            border-radius: 8px;
            width: 80%;
            max-width: 500px;
            position: relative;
        }
        .kik-modal-close {
            position: absolute;
            right: 15px;
            top: 10px;
            font-size: 24px;
            cursor: pointer;
        }
        .kik-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 15px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .kik-card-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #2c3e50;
        }
        .kik-container {
            padding: 15px;
            border: 1px dashed #3498db;
            border-radius: 8px;
            margin-bottom: 15px;
        }
        .command-output {
            background-color: #f8f9fa;
            border: 1px solid #e1e4e8;
            border-radius: 4px;
            padding: 10px;
            margin-top: 10px;
            font-family: monospace;
        }
        .feature-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 15px;
        }
        .feature-card {
            background-color: #f8f9fa;
            border-radius: 8px;
            padding: 15px;
            text-align: center;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        .feature-card:hover {
            background-color: #e9ecef;
        }
        .animation-controls {
            margin-top: 15px;
        }
        .current-animation {
            margin-top: 10px;
            font-weight: bold;
            color: #3498db;
        }
    </style>
</head>
<body>

    <h1>ðŸš€ Kik.js Library Test</h1>

    <!-- Basic Elements Section -->
    <div class="test-section">
        <h2>Basic Elements</h2>
        <div id="basic-elements"></div>
    </div>

    <!-- Advanced Elements Section -->
    <div class="test-section">
        <h2>Advanced Elements</h2>
        <div id="advanced-elements"></div>
    </div>

    <!-- Components Section -->
    <div class="test-section">
        <h2>Components</h2>
        <div id="components"></div>
    </div>

    <!-- Styling Section -->
    <div class="test-section">
        <h2>Styling</h2>
        <div id="styling"></div>
    </div>

    <!-- Animations Section -->
    <div class="test-section">
        <h2>Animations</h2>
        <div class="animation-demo" id="animation-box">Animation</div>
        <div class="animation-controls">
            <button id="animate-btn">Animate</button>
            <button id="reset-btn">Reset</button>
            <div class="current-animation" id="current-animation">Current: None</div>
        </div>
        <div class="feature-grid">
            <div class="feature-card" data-animation="fade-in">fade-in</div>
            <div class="feature-card" data-animation="fade-out">fade-out</div>
            <div class="feature-card" data-animation="slide-up">slide-up</div>
            <div class="feature-card" data-animation="slide-down">slide-down</div>
            <div class="feature-card" data-animation="zoom-in">zoom-in</div>
            <div class="feature-card" data-animation="zoom-out">zoom-out</div>
            <div class="feature-card" data-animation="rotate">rotate</div>
            <div class="feature-card" data-animation="shake">shake</div>
            <div class="feature-card" data-animation="bounce">bounce</div>
            <div class="feature-card" data-animation="pulse">pulse</div>
            <div class="feature-card" data-animation="flip">flip</div>
        </div>
    </div>

    <!-- Event Handling Section -->
    <div class="test-section">
        <h2>Event Handling</h2>
        <button id="event-btn">Click Me</button>
        <div id="event-output"></div>
    </div>

    <!-- Utility Functions Section -->
    <div class="test-section">
        <h2>Utility Functions</h2>
        <div id="utilities"></div>
        <button id="clone-btn">Clone Element</button>
        <button id="save-template-btn">Save Template</button>
        <button id="load-template-btn">Load Template</button>
        <div id="template-container"></div>
    </div>

    <!-- Include Scripts -->
    <script>
        const kikFiles = [
            'parser.js', 'creator.js', 'dom.js', 'utils.js',
            'events.js', 'styles.js', 'animations.js', 'kik.js'
        ];
        kikFiles.forEach(file => {
            const script = document.createElement('script');
            script.src = file;
            document.head.appendChild(script);
        });
    </script>
    
    <!-- Note: If you find any bugs, fix them -->
    
    <!-- Initialization Script -->
    <script>
        window.addEventListener('load', function() {

            // ===== Basic Elements =====
            const basicContainer = document.getElementById('basic-elements');
            [
                Kik("create table 4 Home Help Game About"),
                Kik("create list 3 apple banana strawberry"),
                Kik("create div 3 home help about"),
                Kik("create button 2 login signup"),
                Kik("create h1 1 Welcome-to-My-Website"),
                Kik("text This is a sample text created with Kik.js")
            ].forEach(el => basicContainer.appendChild(el));

            // ===== Advanced Elements =====
            const advancedContainer = document.getElementById('advanced-elements');
            [
                Kik("create img 1 https://via.placeholder.com/150 Logo"),
                Kik("create a 1 Visit Google https://google.com"),
                Kik("create input 1 username Enter your username"),
                Kik("create textarea 1 message Enter your message"),
                Kik("create select 3 Option1 Option2 Option3")
            ].forEach(el => advancedContainer.appendChild(el));

            // ===== Components =====
            const componentsContainer = document.getElementById('components');
            const modalElement     = Kik("create modal 1 Modal Title This is modal content");
            const cardElement      = Kik("create card 1 Card Title This is card content");
            const sectionElement   = Kik("create section 1");
            sectionElement.textContent = "This is a section element";
            const containerElement = Kik("create container 1");
            containerElement.textContent = "This is a container element";
            [modalElement, cardElement, sectionElement, containerElement].forEach(el => componentsContainer.appendChild(el));

            // Show Modal Button
            const showModalBtn = document.createElement('button');
            showModalBtn.id = "show-modal-btn";
            showModalBtn.textContent = "Show Modal";
            componentsContainer.appendChild(showModalBtn);
            KikEvents.onClick('show-modal-btn', () => {
                document.querySelector('.kik-modal').style.display = 'flex';
            });

            // ===== Styling =====
            const stylingContainer = document.getElementById('styling');
            const styleElement = document.createElement('div');
            styleElement.id = "styled-element";
            styleElement.textContent = "Styled with Kik.js";
            stylingContainer.appendChild(styleElement);
            KikStyles.set('styled-element', {
                color: '#e74c3c',
                background: '#f8f9fa',
                padding: '15px',
                border: '1px solid #ddd',
                borderRadius: '5px'
            });

            // ===== Animations =====
            const animations = ['fade-in','fade-out','slide-up','slide-down','zoom-in','zoom-out','rotate','shake','bounce','pulse','flip'];
            let currentAnimation = 0;
            const currentAnimationDisplay = document.getElementById('current-animation');

            const runAnimation = animationName => {
                KikAnimations.animate('animation-box', animationName);
                currentAnimationDisplay.textContent = `Current: ${animationName}`;
            };

            KikEvents.onClick('animate-btn', () => {
                runAnimation(animations[currentAnimation]);
                currentAnimation = (currentAnimation + 1) % animations.length;
            });

            KikEvents.onClick('reset-btn', () => {
                const element = document.getElementById('animation-box');
                element.style.transition = '';
                element.style.opacity = '';
                element.style.transform = '';
                element.style.height = '';
                element.style.overflow = '';
                element.style.position = '';
                element.style.left = '';
                element.style.bottom = '';
                currentAnimationDisplay.textContent = 'Current: None';
            });

            document.querySelectorAll('.feature-card').forEach(card => {
                KikEvents.onClick(card, () => {
                    runAnimation(card.getAttribute('data-animation'));
                });
            });

            // ===== Event Handling =====
            KikEvents.onClick('event-btn', () => {
                document.getElementById('event-output').textContent =
                    "Button clicked at " + new Date().toLocaleTimeString();
            });

            // ===== Utility Functions =====
            const utilitiesContainer = document.getElementById('utilities');
            const originalElement = document.createElement('div');
            originalElement.id = "original-element";
            originalElement.textContent = "Original Element";
            originalElement.style.padding = "10px";
            originalElement.style.backgroundColor = "#f0f0f0";
            originalElement.style.marginBottom = "10px";
            utilitiesContainer.appendChild(originalElement);

            KikEvents.onClick('clone-btn', () => {
                const cloned = KikUtils.cloneElement('original-element');
                if (cloned) {
                    cloned.id = KikUtils.generateId('cloned');
                    utilitiesContainer.appendChild(cloned);
                }
            });

            KikEvents.onClick('save-template-btn', () => {
                if (KikUtils.saveTemplate('my-template', 'original-element')) {
                    alert('Template saved successfully!');
                }
            });

            KikEvents.onClick('load-template-btn', () => {
                const template = KikUtils.loadTemplate('my-template');
                if (template) {
                    document.getElementById('template-container').appendChild(template);
                }
            });

        });
    </script>

</body>
</html>